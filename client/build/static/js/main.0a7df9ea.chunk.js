(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{153:function(e,t,n){},154:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),o=(n(153),n(154),n(121)),s=n(17),l=n(11),u=n.n(l),d=n(20),j=n(10),p=n(262),b=n(242),h=n(238),f=n(260),O=n(240),m=n(261),x=n(244),g=n(243),v=n(71),y=n.n(v),k=n(57),w=n(233),S=n(236),C=n(21),N=n(2),T=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),A=function(){var e=r.a.useState(""),t=Object(j.a)(e,2),n=t[0],a=t[1],c=r.a.useState(""),i=Object(j.a)(c,2),o=i[0],s=i[1],l=Object(C.b)(),v=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===o){e.next=10;break}return e.next=4,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/adminsignin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:o})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}));case 4:(r=e.sent)&&"Matched"===r.message?(l({type:"SIGNIN",payload:r}),localStorage.setItem("auth",r.asscessToken),localStorage.setItem("user",r.user)):alert(r.message),a(""),s(""),e.next=11;break;case 10:alert("All Feild Are Required");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=T();return Object(N.jsxs)(S.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(h.a,{}),Object(N.jsxs)("div",{className:w.paper,children:[Object(N.jsx)(p.a,{className:w.avatar,children:Object(N.jsx)(y.a,{})}),Object(N.jsx)(k.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)("form",{className:w.form,noValidate:!0,onSubmit:function(e){return v(e)},children:[Object(N.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:n,onChange:function(e){return a(e.target.value)}}),Object(N.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:o,onChange:function(e){return s(e.target.value)}}),Object(N.jsx)(O.a,{control:Object(N.jsx)(m.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(N.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:w.submit,children:"Sign In"}),Object(N.jsx)(g.a,{container:!0,children:Object(N.jsx)(g.a,{item:!0,children:Object(N.jsx)(x.a,{href:"/admin/dashboard/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})},B=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),P=function(){var e=r.a.useState(""),t=Object(j.a)(e,2),n=t[0],a=t[1],c=r.a.useState(""),i=Object(j.a)(c,2),o=i[0],s=i[1],l=r.a.useState(""),O=Object(j.a)(l,2),m=O[0],v=O[1],w=r.a.useState(""),C=Object(j.a)(w,2),T=C[0],A=C[1],P=r.a.useState(!1),E=Object(j.a)(P,2),D=(E[0],E[1],r.a.useState("")),L=Object(j.a)(D,2),I=(L[0],L[1],B()),M=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===o||""===m||""===T){e.next=17;break}if(m!==T){e.next=14;break}return e.next=5,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/adminsignup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,name:n,password:m})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}));case 5:r=e.sent,alert(r.message),a(""),s(""),v(""),A(""),setTimeout((function(){return window.location.replace(window.location.origin+"/admin/dashboard/home")}),1e3),e.next=15;break;case 14:alert("Password is not Matched");case 15:e.next=18;break;case 17:alert("All Feild Are Required");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(S.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(h.a,{}),Object(N.jsxs)("div",{className:I.paper,children:[Object(N.jsx)(p.a,{className:I.avatar,children:Object(N.jsx)(y.a,{})}),Object(N.jsx)(k.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(N.jsxs)("form",{className:I.form,onSubmit:function(e){return M(e)},children:[Object(N.jsxs)(g.a,{container:!0,spacing:2,children:[Object(N.jsx)(g.a,{item:!0,xs:12,children:Object(N.jsx)(f.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:n,onChange:function(e){return a(e.target.value)}})}),Object(N.jsx)(g.a,{item:!0,xs:12,children:Object(N.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:o,onChange:function(e){return s(e.target.value)}})}),Object(N.jsx)(g.a,{item:!0,xs:12,children:Object(N.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:m,onChange:function(e){return v(e.target.value)}})}),Object(N.jsx)(g.a,{item:!0,xs:12,children:Object(N.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirm Password",label:"confrim Password",type:"password",id:"confirm",autoComplete:"current-password",value:T,onChange:function(e){return A(e.target.value)}})})]}),Object(N.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:I.submit,children:"Sign Up"}),Object(N.jsx)(g.a,{container:!0,justify:"flex-end",children:Object(N.jsx)(g.a,{item:!0,children:Object(N.jsx)(x.a,{href:"/admin/dashboard/home",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})},E=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Welocome to Parking Finder App "}),Object(N.jsx)("h2",{children:"1 Step More Just Click This Button"}),Object(N.jsx)(b.a,{children:"Click Me"})]})},D=function(){return Object(N.jsx)(S.a,{component:"main",maxWidth:"xs",children:Object(N.jsx)(g.a,{container:!0,spacing:2,children:Object(N.jsx)(g.a,{item:!0,xs:12,children:Object(N.jsx)(k.a,{component:"h1",variant:"h5",children:"Page Not Found"})})})})},L=n(15),I=n(14),M=n(4),W=n(26),R=n(256),F=n(253),G=n(254),V=n(239),q=n(255),J=n(241),_=n(119),z=n.n(_),U=n(120),H=n.n(U),Y=n(74),K=n.n(Y),X=n(257),Q=n(258),Z=n(259),$=n(75),ee=n.n($),te=n(252),ne=n(247),ae=n(251),re=n(250),ce=n(246),ie=n(248),oe=n(249),se=n(90),le=n(245),ue=n(116),de=n.n(ue),je=n(126),pe=n(117),be=n.n(pe),he=n(198),fe=n(115),Oe=n.n(fe)()("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/"),me=r.a.forwardRef((function(e,t){return Object(N.jsx)(he.a,Object(I.a)({direction:"up",ref:t},e))})),xe=Object(w.a)((function(e){return{root:{position:"relative"},fab:{position:"fixed",bottom:e.spacing(2),left:e.spacing(2)},paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},paperView:{position:"absolute",width:"100vw",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function ge(){return Math.round(20*Math.random())-10}function ve(){var e=50+ge(),t=50+ge();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var ye=function(){var e=xe(),t=r.a.useState(!1),n=Object(j.a)(t,2),a=n[0],c=n[1],i=r.a.useState(ve),o=Object(j.a)(i,1)[0],s=r.a.useState(!1),l=Object(j.a)(s,2),p=l[0],h=l[1],O=r.a.useState(""),m=Object(j.a)(O,2),x=m[0],v=m[1],y=r.a.useState(0),w=Object(j.a)(y,2),T=w[0],A=w[1],B=r.a.useState(""),P=Object(j.a)(B,2),E=(P[0],P[1],Object(C.b)()),D=Object(C.c)((function(e){return{accessToken:e.accessToken,lane:e.lane,parkingSpace:e.parkingSpace}})),L=D.accessToken,I=D.lane,M=D.parkingSpace,W=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/getLane",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+L}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,E({type:"GETLANE",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){return W()}),[]);r.a.useEffect((function(){Oe.on("parking Update",(function(e){console.log("Booked",e),q(e)}))}),[]);var R=function(){c(!1)},V=function(){h(!1)},q=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/getParking",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+L},body:JSON.stringify({laneId:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:n=e.sent,E({type:"VIEWPARKINGSPACE",payload:n}),h(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(T>0)){e.next=9;break}return n={laneName:x,parkingArea:T},e.next=5,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/addLane",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+L},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 5:a=e.sent,Oe.emit("newlane",a),E({type:"ADDLANE",payload:a}),R();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/removeLane",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+L},body:JSON.stringify({laneId:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return n=e.sent,e.t0=console,e.next=6,n;case 6:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),E({type:"LANEREMOVE",payload:t}),Oe.emit("delete lane");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=Object(N.jsx)("div",{style:o,className:e.paper,children:Object(N.jsx)(g.a,{container:!0,children:Object(N.jsx)(g.a,{item:!0,children:Object(N.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){return _(e)},children:[Object(N.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"LaneName",label:"Lane Name",name:"LaneName",value:x,onChange:function(e){return v(e.target.value)}}),Object(N.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Parking Area",label:"How Many Parking Area?",type:"number",value:T,onChange:function(e){return A(e.target.value)}}),Object(N.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Save"})]})})})});return console.log(I,M),Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(le.a,{color:"primary","aria-label":"add",classsName:e.fab,onClick:function(){c(!0)},children:Object(N.jsx)(de.a,{})}),Object(N.jsxs)(S.a,{children:[Object(N.jsx)(ce.a,{component:se.a,children:Object(N.jsxs)(ne.a,{className:e.table,"aria-label":"simple table",children:[Object(N.jsx)(ie.a,{children:Object(N.jsxs)(oe.a,{children:[Object(N.jsx)(re.a,{children:"Sr No."}),Object(N.jsx)(re.a,{align:"left",children:"Lane Name"}),Object(N.jsx)(re.a,{align:"right",children:"Parking Areas"}),Object(N.jsx)(re.a,{align:"center",children:"Action button"})]})}),Object(N.jsx)(ae.a,{children:I.length>0?I.map((function(e,t){return Object(N.jsxs)(oe.a,{children:[Object(N.jsx)(re.a,{children:t+1}),Object(N.jsx)(re.a,{component:"th",scope:"row",children:e.name}),Object(N.jsx)(re.a,{align:"right",children:e.totalPakringSpace}),Object(N.jsx)(re.a,{align:"left",children:Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"},children:[Object(N.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){return q(e.id)},children:"View"}),Object(N.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){return z(e.id)},children:"Delete"})]})})]},e.id)})):null})]})}),Object(N.jsx)(je.a,{open:a,onClose:R,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:U}),Object(N.jsxs)(te.a,{fullScreen:!0,open:p,onClose:V,TransitionComponent:me,children:[Object(N.jsx)(F.a,{className:e.appBar,children:Object(N.jsxs)(G.a,{children:[Object(N.jsx)(J.a,{edge:"start",color:"inherit",onClick:V,"aria-label":"close",children:Object(N.jsx)(be.a,{})}),Object(N.jsx)(k.a,{variant:"h6",className:e.title,children:"Parking View"})]})}),Object(N.jsx)("div",{style:{marginTop:80},children:Object(N.jsx)(g.a,{container:!0,children:M.length>0?M.map((function(e){var t=new Date,n=new Date(e.endTime),a="orange";return console.log("Data",t>n,e.name,t,n),t<n&&!0===e.isBooked&&(a="red"),Object(N.jsx)(g.a,{item:!0,xs:3,children:Object(N.jsx)(se.a,{style:{margin:20,padding:20,textAlign:"center",backgroundColor:a},elevation:3,children:Object(N.jsx)("h1",{children:e.name})})})})):null})})]})]})]})},ke=n(118),we=n.n(ke),Se=function(){var e=r.a.useState(""),t=Object(j.a)(e,2),n=t[0],c=t[1],i=r.a.useState(""),o=Object(j.a)(i,2),s=o[0],l=o[1],p=Object(a.useRef)(null),b=Object(C.b)(),h=Object(C.c)((function(e){return{user:e.user,users:e.users,chat:e.chat,accessToken:e.accessToken}})),O=h.user,m=h.users,x=h.chat,v=h.accessToken;Object(a.useEffect)((function(){p&&p.current.addEventListener("DOMNodeInserted",(function(e){var t=e.currentTarget;t.scroll({top:t.scrollHeight,behavior:"smooth"})}))}),[]),r.a.useEffect((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/getMsg/"+t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+v}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:n=e.sent,c(t),b({type:"REPLY",payload:n}),console.log(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r.a.useEffect((function(){Oe.on("msg receive",function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,y(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var w=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/allusers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+v}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,b({type:"Users",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===s){e.next=7;break}return e.next=3,fetch("http://192.168.3.109:2000/api/newMsg",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+v},body:JSON.stringify({ChatId:n,msg:s})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 3:t=e.sent,b({type:"SENDMSG",payload:t}),l(""),Oe.emit("msg send",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(m,m.length,x),Object(N.jsx)(S.a,{maxWidth:"lg",children:Object(N.jsxs)(g.a,{container:!0,spacing:3,children:[Object(N.jsx)(g.a,{item:!0,xs:6,md:3,children:Object(N.jsx)(se.a,{style:{display:"flex",overflow:"auto",flexDirection:"column"},children:m.length>0?m.map((function(e){return console.log(e),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(V.a,{style:{display:"flex",alignItems:"center",padding:"5%"},children:[Object(N.jsx)(k.a,{style:{marginLeft:"4%"},variant:"h6",children:e.name}),Object(N.jsx)(J.a,{onClick:function(){return y(e._id)},children:Object(N.jsx)(K.a,{})})]},e._id),Object(N.jsx)(q.a,{})]})})):null})}),Object(N.jsx)(g.a,{item:!0,xs:12,md:8,children:Object(N.jsxs)(se.a,{style:{display:"flex",overflow:"auto",flexDirection:"column",minHeight:500},children:[Object(N.jsx)("div",{style:{background:"#3f51b5"},children:Object(N.jsx)(G.a,{children:Object(N.jsx)(k.a,{variant:"h6",style:{flexGrow:1,color:"white"},children:"Name"})})}),Object(N.jsx)("div",{style:{height:"412px",overflowY:"scroll"},ref:p,children:x.map((function(e){var t=new Date(e.createdAt);return Object(N.jsx)("div",{style:{marginTop:40},className:e.email!==O.email?"otherUser":"currentUser",children:Object(N.jsxs)("p",{children:[e.msg,Object(N.jsx)("span",{style:{display:"block"},children:"".concat(t.getHours(),":").concat(t.getMinutes(),"  ").concat(t.getDate(),"/").concat(t.getMonth()+1)})]})},e._id)}))}),Object(N.jsxs)("div",{style:{display:"flex",padding:"20px 20px",background:"lightgray"},children:[Object(N.jsx)(f.a,{label:"Type Your Massage .....",fullWidth:!0,value:s,onChange:function(e){return l(e.target.value)}}),Object(N.jsx)(J.a,{onClick:function(){return T()},children:Object(N.jsx)(we.a,{})})]})]})})]})})},Ce=Object(w.a)((function(e){return{root:{position:"relative"},fab:{position:"fixed",bottom:e.spacing(2),left:e.spacing(2)}}})),Ne=function(){Ce();var e=Object(C.b)(),t=Object(C.c)((function(e){return{bookings:e.bookings,accessToken:e.accessToken}})),n=t.bookings,a=t.accessToken,c=Object(C.b)(),i=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/allBookings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,c({type:"BOOKINGS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){return i()}),[]),console.log(n);var o=function(e){var t=e.getHours(),n=e.getMinutes(),a=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+a},s=function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://app-d83895ee-04a8-4417-b70b-0873e8873a83.cleverapps.io/api/cencelBooking",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({id:n})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:r=t.sent,console.log(r),Oe.emit("Cancel Booking"),e({type:"CANCELORDER",payload:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(N.jsx)(S.a,{children:Object(N.jsx)(ce.a,{component:se.a,children:Object(N.jsxs)(ne.a,{"aria-label":"simple table",children:[Object(N.jsx)(ie.a,{children:Object(N.jsxs)(oe.a,{children:[Object(N.jsx)(re.a,{children:"Sr No."}),Object(N.jsx)(re.a,{align:"left",children:"Booking ID"}),Object(N.jsx)(re.a,{align:"left",children:"Booked By"}),Object(N.jsx)(re.a,{align:"left",children:"Space Name"}),Object(N.jsx)(re.a,{align:"left",children:"Booking Start Time"}),Object(N.jsx)(re.a,{align:"left",children:"Booking End Time"}),Object(N.jsx)(re.a,{align:"left",children:"Booking Status"}),Object(N.jsx)(re.a,{align:"left",children:"Action Button"})]})}),Object(N.jsx)(ae.a,{children:n.length>0?n.map((function(e,t){var n=new Date,a=new Date(e.startTime),r=new Date(e.endTime),c=!1,i="Booked";return e.isBooking?n<a?i="Pending":e.isBooking&&n>a?(i="Arived",c=!0):e.isBooking&&n>r&&(i="Done",c=!0):(i="Canceled",c=!0),n>a&&e.isBooking&&(c=!0),console.log(e.isBooking),Object(N.jsxs)(oe.a,{children:[Object(N.jsx)(re.a,{children:t+1}),Object(N.jsx)(re.a,{component:"th",scope:"row",children:e.id}),Object(N.jsx)(re.a,{align:"right",children:e.email}),Object(N.jsx)(re.a,{align:"left",children:e.parkingSpace}),Object(N.jsx)(re.a,{align:"left",children:"".concat(o(a),"  ").concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear())}),Object(N.jsx)(re.a,{align:"left",children:"".concat(o(r),"  ").concat(r.getDate(),"-").concat(r.getMonth()+1,"-").concat(r.getFullYear())}),Object(N.jsx)(re.a,{align:"right",children:i}),Object(N.jsx)(re.a,{align:"left",children:Object(N.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){return s(e.id)},disabled:c,children:"Cancel"})})]},e.id)})):null})]})})})},Te=240,Ae=Object(w.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Te,"px)"),marginLeft:Te,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Te,flexShrink:0},drawerPaper:{width:Te},drawerHeader:Object(I.a)(Object(I.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function Be(){var e=Ae(),t=Object(W.a)(),n=r.a.useState(!1),a=Object(j.a)(n,2),c=a[0],i=a[1],o=r.a.useState("LaneView"),s=Object(j.a)(o,2),l=s[0],u=s[1];return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(h.a,{}),Object(N.jsx)(F.a,{position:"fixed",className:Object(M.a)(e.appBar,Object(L.a)({},e.appBarShift,c)),children:Object(N.jsxs)(G.a,{children:[Object(N.jsx)(J.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(M.a)(e.menuButton,c&&e.hide),children:Object(N.jsx)(z.a,{})}),Object(N.jsx)(k.a,{variant:"h6",noWrap:!0,children:"Menu"})]})}),Object(N.jsxs)(R.a,{className:e.drawer,variant:"persistent",anchor:"left",open:c,classes:{paper:e.drawerPaper},children:[Object(N.jsx)("div",{className:e.drawerHeader,children:Object(N.jsx)(J.a,{onClick:function(){i(!1)},children:"ltr"===t.direction?Object(N.jsx)(H.a,{}):Object(N.jsx)(K.a,{})})}),Object(N.jsx)(q.a,{}),Object(N.jsx)(V.a,{children:Object(N.jsxs)(X.a,{button:!0,onClick:function(){return u("LaneView")},children:[Object(N.jsx)(Q.a,{children:Object(N.jsx)(ee.a,{})}),Object(N.jsx)(Z.a,{primary:"Lane And Parking View"})]})}),Object(N.jsx)(q.a,{}),Object(N.jsx)(V.a,{children:Object(N.jsxs)(X.a,{button:!0,onClick:function(){return u("ParkingLog")},children:[Object(N.jsx)(Q.a,{children:Object(N.jsx)(ee.a,{})}),Object(N.jsx)(Z.a,{primary:"Booked Parking Log"})]})}),Object(N.jsx)(q.a,{}),Object(N.jsx)(V.a,{children:Object(N.jsxs)(X.a,{button:!0,onClick:function(){return u("Chat")},children:[Object(N.jsx)(Q.a,{children:Object(N.jsx)(ee.a,{})}),Object(N.jsx)(Z.a,{primary:"Chat"})]})})]}),Object(N.jsxs)("main",{className:Object(M.a)(e.content,Object(L.a)({},e.contentShift,c)),children:[Object(N.jsx)("div",{className:e.drawerHeader}),"LaneView"===l&&Object(N.jsx)(ye,{})||"ParkingLog"===l&&Object(N.jsx)(Ne,{})||"Chat"===l&&Object(N.jsx)(Se,{})]})]})}var Pe=function(){var e=Object(C.c)((function(e){return{user:e.user,accessToken:e.accessToken}})),t=e.user;return e.accessToken,r.a.useEffect((function(){Oe.emit("hello World"),Oe.on("hello",(function(){console.log("hi!")}))})),Object(N.jsx)(o.a,{children:Object(N.jsxs)(s.c,{children:[Object(N.jsx)(s.a,{exact:!0,path:"/",component:D}),Object(N.jsx)(s.a,{path:"/admin/dashboard/home",component:t&&t.name?Be:A}),Object(N.jsx)(s.a,{path:"/admin/dashboard/home/:id",component:Be}),Object(N.jsx)(s.a,{Path:"/admin/dashboard/signup",component:P}),Object(N.jsx)(s.a,{path:"/authentication/activate/",component:E})]})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,263)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},De=n(54),Le=n(122),Ie=n(35),Me=function(e,t){switch(t.type){case"SIGNIN":return Object(I.a)(Object(I.a)({},e),{},{user:t.payload.user,accessToken:t.payload.asscessToken});case"SIGNOUT":return Object(I.a)(Object(I.a)({},e),{},{user:t.payload,accessToken:t.payload});case"GETLANE":return Object(I.a)(Object(I.a)({},e),{},{lane:t.payload.data});case"BOOKINGS":return Object(I.a)(Object(I.a)({},e),{},{bookings:t.payload.data});case"ADDLANE":return console.log(t.payload),Object(I.a)(Object(I.a)({},e),{},{lane:[].concat(Object(Ie.a)(e.lane),[t.payload.newLane])});case"LANEREMOVE":return console.log("Delete",e.lane.filter((function(e){if(e.id!==t.payload)return e}))),Object(I.a)(Object(I.a)({},e),{},{lane:e.lane.filter((function(e){if(e.id!==t.payload)return e}))});case"VIEWPARKINGSPACE":return Object(I.a)(Object(I.a)({},e),{},{parkingSpace:t.payload.data});case"CANCELORDER":return Object(I.a)(Object(I.a)({},e),{},{bookings:e.bookings.map((function(e){return e.id===t.payload?e=Object(I.a)(Object(I.a)({},e),{},{isBooking:!1}):e}))});case"Users":return Object(I.a)(Object(I.a)({},e),{},{users:t.payload.user});case"REPLY":return console.log(t.payload),Object(I.a)(Object(I.a)({},e),{},{chat:t.payload.MSG?t.payload.MSG:[]});default:return e}},We=[Le.a],Re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||De.c,Fe=Object(De.d)(Me,{user:[],accessToken:"",lane:[],parkingSpace:[],bookings:[],users:[],chat:[]},Re(De.a.apply(void 0,We)));i.a.render(Object(N.jsx)(C.a,{store:Fe,children:Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(Pe,{})})}),document.getElementById("root")),Ee()}},[[196,1,2]]]);
//# sourceMappingURL=main.0a7df9ea.chunk.js.map